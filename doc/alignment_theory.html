

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />
<meta content="Jeff Candy and Claus Futtrup" name="author" />
<meta content="speakerbench,loudspeaker,driver,parameter,json,design,calculator,impedance,measurement,simulation,software,free,audio" name="keywords" />
<meta content="Speakerbench Documentation" name="description" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Classic Vented Alignments &mdash; Speakerbench 0.1 documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=80d5e7a1" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="_static/contentui.css" />
      <link rel="stylesheet" type="text/css" href="_static/css/custom.css?v=a0fb6060" />

  
    <link rel="shortcut icon" href="_static/favicon.ico"/>
      <script src="_static/jquery.js?v=5d32c60e"></script>
      <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="_static/documentation_options.js?v=2709fde1"></script>
      <script src="_static/doctools.js?v=9bcbadda"></script>
      <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
      <script src="_static/contentui.js"></script>
      <script>window.MathJax = {"tex": {"macros": {"qt": "{Q_\\mathrm{TS}}", "qes": "{Q_\\mathrm{ES}}", "qms": "{Q_\\mathrm{MS}}", "qa": "{Q_\\mathrm{{\\hspace -1pt} A}}", "bl": "{B\\ell}", "bls": "{(B\\ell)^2}", "mms": "{M_\\mathrm{MS}}", "mmp": "{M_\\mathrm{MP}}", "cms": "{C_\\mathrm{MS}}", "rms": "{R_\\mathrm{MS}}", "cmb": "{C_\\mathrm{MB}}", "wmin": "{\\omega_\\mathrm{min}}", "wmax": "{\\omega_\\mathrm{max}}", "tp": "{t^\\prime}", "dmn": "{\\Delta_{mn}}", "vb": "{V_\\mathrm{B}}", "vas": "{V_\\mathrm{AS}}", "vp": "{V_\\mathrm{P}}", "cab": "{C_\\mathrm{AB}}", "map": "{M_\\mathrm{AP}}", "ma": "{M_\\mathrm{A}}", "sd": "{S_\\mathrm{D}}", "ad": "{a_\\mathrm{D}}", "sp": "{S_\\mathrm{P}}", "ap": "{a_\\mathrm{P}}", "sb": "{S_\\mathrm{B}}", "caf": "{C_\\mathrm{af}}", "cth": "{C_\\mathrm{th}}", "cua": "{C_\\mathrm{ua}}", "raf": "{R_\\mathrm{af}}", "rth": "{R_\\mathrm{th}}", "cfu": "{C^*_\\mathrm{AB}}", "rfu": "{R^*_\\mathrm{AB}}", "ws": "{\\omega_\\mathrm{S}}", "fp": "{f_\\mathrm{P}}", "wp": "{\\omega_\\mathrm{P}}", "lp": "{l_\\mathrm{P}}", "fs": "{f_\\mathrm{S}}", "fcb": "{f_\\mathrm{CB}}", "qtc": "{Q_\\mathrm{TC}}", "deltv": "{\\delta_v}", "xs": "{x_\\mathrm{S}}", "xim": "{x_\\mathrm{I}}", "xmax": "{X_\\mathrm{max}}", "re": "{R_\\mathrm{E}}", "leb": "{L_\\mathrm{EB}}", "le": "{L_\\mathrm{E}}", "ke": "{K_\\mathrm{E}}", "rss": "{R_\\mathrm{SS}}", "zm": "{Z_\\mathrm{M}}", "zms": "{Z_{\\mathrm{M}*}}", "zin": "{Z}", "ze": "{Z_\\mathrm{E}}", "cmes": "{C_\\mathrm{MES}}", "res": "{R_\\mathrm{ES}}", "lces": "{L_\\mathrm{CES}}", "cas": "{C_\\mathrm{AS}}", "fr": "{g}", "ql": "{\\sigma}", "rlog": "{R_0}", "clog": "{C_0}", "llog": "{L_0}", "flog": "{f_0}", "ssa": "{\\mathrm{SS}_A}", "sse": "{\\mathrm{SS}_E}", "msa": "{\\mathrm{MS}_A}", "mse": "{\\mathrm{MS}_E}", "mmf": "{M_\\mathrm{MF}}", "mmr": "{M_\\mathrm{MR}}", "hz": "{\\textrm{Hz}}", "khz": "{\\textrm{kHz}}", "cm": "{\\textrm{cm}}", "gr": "{\\textrm{g}}", "mg": "{\\textrm{mg}}", "mv": "{\\textrm{mV}}", "mw": "{\\textrm{mW}}", "mh": "{\\textrm{mH}}", "tm": "{\\textrm{Tm}}", "kgm": "{\\textrm{kg/m}^3 \\,}", "mps": "{\\textrm{m/s}}", "heatcap": "{\\textrm{J/(kg K)}}", "taue": "{\\tau_e}", "tauv": "{\\tau_v}"}}}</script>
      <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="The IB4 Bass Reflex Alignment" href="ib4.html" />
    <link rel="prev" title="Dual-Added-Mass Method" href="deltamass_theory.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            Speakerbench
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
<li class="toctree-l1"><a class="reference internal" href="quickstart.html">Quickstart</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Impedance</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="measure.html">Impedance Measurement</a></li>
<li class="toctree-l1"><a class="reference internal" href="collect.html">Impedance Data Object</a></li>
<li class="toctree-l1"><a class="reference internal" href="fit.html">Advanced Model Fit</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Box Modeling</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="create.html">Create datasheet</a></li>
<li class="toctree-l1"><a class="reference internal" href="box.html">Box Simulation</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Theory Notes</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="deltamass_theory.html">Dual-Added-Mass Method</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Classic Vented Alignments</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#history-and-framework">History and framework</a></li>
<li class="toctree-l2"><a class="reference internal" href="#discrete-alignments">Discrete alignments</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#butterworth-b4">Butterworth B4</a></li>
<li class="toctree-l3"><a class="reference internal" href="#bessel-bl4">Bessel BL4</a></li>
<li class="toctree-l3"><a class="reference internal" href="#linkwitz-riley-lr4">Linkwitz-Riley LR4</a></li>
<li class="toctree-l3"><a class="reference internal" href="#critically-damped-cd4">Critically damped CD4</a></li>
<li class="toctree-l3"><a class="reference internal" href="#inter-order-butterworth-ib4">Inter-Order Butterworth IB4</a></li>
<li class="toctree-l3"><a class="reference internal" href="#comparison">Comparison</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#misalignment-of-discrete-alignments">Misalignment of discrete alignments</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#method-of-ignorance">1. Method of ignorance</a></li>
<li class="toctree-l3"><a class="reference internal" href="#compliance-alteration">2. Compliance Alteration</a></li>
<li class="toctree-l3"><a class="reference internal" href="#generalized-quasi-alignments">3. Generalized quasi-alignments</a><ul>
<li class="toctree-l4"><a class="reference internal" href="ib4.html">The IB4 Bass Reflex Alignment</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#discrete-alignments-summary">Discrete Alignments Summary</a></li>
<li class="toctree-l2"><a class="reference internal" href="#alignment-families">Alignment families</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#chebyshev">Chebyshev</a></li>
<li class="toctree-l3"><a class="reference internal" href="#boombox">Boombox</a><ul>
<li class="toctree-l4"><a class="reference internal" href="lr4.html">The LR4 Bass Reflex Alignment</a></li>
<li class="toctree-l4"><a class="reference internal" href="cd4.html">The CD4 Bass Reflex Alignment</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#transitional-alignments">Transitional Alignments</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#second-order-alignments">Second-order alignments</a></li>
<li class="toctree-l2"><a class="reference internal" href="#summary">Summary</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="time_theory.html">Time-domain Analysis</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Resources</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="sampledata.html">Sample Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="youtube.html">YouTube</a></li>
<li class="toctree-l1"><a class="reference internal" href="json-docs.html">JSON Datafile Definitions</a></li>
<li class="toctree-l1"><a class="reference internal" href="glossary.html">Glossary of symbols</a></li>
<li class="toctree-l1"><a class="reference internal" href="zreferences.html">References</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Speakerbench</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Classic Vented Alignments</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/alignment_theory.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="classic-vented-alignments">
<span id="alignment-theory"></span><h1>Classic Vented Alignments<a class="headerlink" href="#classic-vented-alignments" title="Link to this heading"></a></h1>
<p>In classical loudspeaker theory from the 1960s and onwards, the concept of alignments was developed to provide a systematic prescription for choosing box volume and port tuning to yield a target low-frequency response function. The theory is not exact, but offers insight into the choice between low frequency extension versus group delay (phase distortion).</p>
<p>For an overview of the alignments discussed here and supported in Speakerbench, please scroll down to the <strong>last</strong> section (‘Summary’) in this chapter.</p>
<section id="history-and-framework">
<h2>History and framework<a class="headerlink" href="#history-and-framework" title="Link to this heading"></a></h2>
<p>To facilitate choosing the box volume and vent tuning, Speakerbench will propose values based on standard 4th-order bass-reflex alignments. These alignments are particular types of 4th-order high-pass filters. Following Small <span id="id1">[<a class="reference internal" href="zreferences.html#id52" title="R.H. Small. Vented-Box Loudspeaker Systems Part IV: Appendices. J. Audio. Eng. Soc., 21:635, 1973. URL: https://www.aes.org/e-lib/browse.cfm?elib=1941.">Sma73b</a>]</span> (Eq. 57) we can write the normalized response function as</p>
<div class="math notranslate nohighlight">
\[G_\mathrm{H}(s) = \frac{s^4}{s^4 + a_1 s^3 + a_2 s^2 + a_3 s + 1} \; ,\]</div>
<p>where <span class="math notranslate nohighlight">\(s = j \omega / \omega_0\)</span> is the dimensionless complex frequency variable normalized to <span class="math notranslate nohighlight">\(\omega_0 \doteq \sqrt{\omega_B \, \omega_S}\)</span>. In the first part of his article series, Small <span id="id2">[<a class="reference internal" href="zreferences.html#id52" title="R.H. Small. Vented-Box Loudspeaker Systems Part IV: Appendices. J. Audio. Eng. Soc., 21:635, 1973. URL: https://www.aes.org/e-lib/browse.cfm?elib=1941.">Sma73b</a>]</span> (Eqs. 22–24) writes the lossy box filter coefficients as</p>
<div class="math notranslate nohighlight">
\[\begin{split}\begin{eqnarray}
\displaystyle
a_1 &amp;=&amp; \frac{Q_L + h \: Q_T}{\sqrt{h} \: Q_L \: Q_T} \nonumber \\
a_2 &amp;=&amp; \frac{h + (\alpha + 1 + h^2) \: Q_L \: Q_T}{h \: Q_L \: Q_T}\nonumber \\
a_3 &amp;=&amp; \frac{h \: Q_L + Q_T}{\sqrt{h} \: Q_L \: Q_T} \; ,\label{eq:box}
\end{eqnarray}\end{split}\]</div>
<p>where <span class="math notranslate nohighlight">\(Q_L\)</span> is the leakage-loss <span class="math notranslate nohighlight">\(Q\)</span> of the box and <span class="math notranslate nohighlight">\(Q_T\)</span> is the total <span class="math notranslate nohighlight">\(Q\)</span> of the driver. Here, <span class="math notranslate nohighlight">\(h = \omega_B/\omega_S\)</span> is the system tuning ratio and <span class="math notranslate nohighlight">\(\alpha = V_{AS} / V_B\)</span> is the ratio of the compliance volume to the box volume. We remark that the coefficients are approximate and neglect myriad other terms which appear in a more comprehensive model of a vented box. These missing terms would represent more complex losses in the box and in the driver suspension system, driver inductance and semi-inductance, and so on. In the definition of <span class="math notranslate nohighlight">\(\omega_0\)</span>, <span class="math notranslate nohighlight">\(\omega_S\)</span> is the driver resonant frequency and <span class="math notranslate nohighlight">\(\omega_B\)</span> is the vent resonant frequency. This normalization is equivalent to setting <span class="math notranslate nohighlight">\(T_0=1\)</span> in Small’s expressions. The magnitude-versus-frequency behavior is also given in Small <span id="id3">[<a class="reference internal" href="zreferences.html#id52" title="R.H. Small. Vented-Box Loudspeaker Systems Part IV: Appendices. J. Audio. Eng. Soc., 21:635, 1973. URL: https://www.aes.org/e-lib/browse.cfm?elib=1941.">Sma73b</a>]</span> (Eqs. 58 and 59), which we reproduce here as</p>
<div class="math notranslate nohighlight">
\[\left| G_\mathrm{H}(i\omega) \right|^2 = \frac{\omega^8}{\omega^8 + A_1 \omega^6 + A_2 \omega^4 + A_3 \omega^2 + 1} \; ,\]</div>
<p>where</p>
<div class="math notranslate nohighlight">
\[\begin{split}\begin{eqnarray}
A_1 &amp;=&amp; a_1^2-2 a_2 \; , \\
A_2 &amp;=&amp; a_2^2+2-2 a_1 a_3 \; , \\
A_3 &amp;=&amp; a_3^2-2 a_2 \; .
\end{eqnarray}\end{split}\]</div>
<p>We summarize the values for <span class="math notranslate nohighlight">\(A_i\)</span> for some classical alignments as well as <span class="math notranslate nohighlight">\(Q_T\)</span> for the lossless case below</p>
<table class="docutils align-center" id="id5">
<caption><span class="caption-number">Table 2 </span><span class="caption-text"><strong>Discrete Alignments Coefficients</strong></span><a class="headerlink" href="#id5" title="Link to this table"></a></caption>
<colgroup>
<col style="width: 43.2%" />
<col style="width: 16.2%" />
<col style="width: 13.5%" />
<col style="width: 13.5%" />
<col style="width: 13.5%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Filter</p></th>
<th class="head"><p><span class="math notranslate nohighlight">\(Q_T\)</span></p></th>
<th class="head"><p><span class="math notranslate nohighlight">\(A_1\)</span></p></th>
<th class="head"><p><span class="math notranslate nohighlight">\(A_2\)</span></p></th>
<th class="head"><p><span class="math notranslate nohighlight">\(A_3\)</span></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Butterworth (B4)</p></td>
<td><p>0.383</p></td>
<td><p>0</p></td>
<td><p>0</p></td>
<td><p>0</p></td>
</tr>
<tr class="row-odd"><td><p>Linkwitz-Riley (LR4)</p></td>
<td><p>0.354</p></td>
<td><p>0</p></td>
<td><p>2</p></td>
<td><p>0</p></td>
</tr>
<tr class="row-even"><td><p>Bessel (BL4)</p></td>
<td><p>0.316</p></td>
<td><p>1.464</p></td>
<td><p>1.286</p></td>
<td><p>0.976</p></td>
</tr>
</tbody>
</table>
<p>Butterworth filters have <span class="math notranslate nohighlight">\(A_1=A_2=A_3=0\)</span> which gives the mathematical feature of <em>maximal flatness</em>.</p>
<p>Since these respective alignments are discrete, i.e., possible only for a single value of <span class="math notranslate nohighlight">\(Q_T\)</span>, a procedure is required to extend (or approximate) them for a continuous range of <span class="math notranslate nohighlight">\(Q_T\)</span>.</p>
</section>
<section id="discrete-alignments">
<h2>Discrete alignments<a class="headerlink" href="#discrete-alignments" title="Link to this heading"></a></h2>
<p>A <em>discrete</em> bass reflex alignment means we need to select a driver with a specific <span class="math notranslate nohighlight">\(\qt\)</span> value and match that with a specific box volume and port tuning frequency, and then we can obtain this discrete alignment. There are a couple of classic discrete alignments, named Butterworth (B4) and Bessel (BL4). Besides, A. N. Thiele defined the Inter-Order Butterworth (IB4) around 1974. We furthermore describe the Linkwitz-Riley (LR4) and Critically Damped (CD4) discrete alignments. Each such discrete alignment is typically defined by a specific property, which we will describe below.</p>
<section id="butterworth-b4">
<h3>Butterworth B4<a class="headerlink" href="#butterworth-b4" title="Link to this heading"></a></h3>
<p>The Butterworth filter response was first described by Stephen Butterworth around 1930. This filter offers a maximally flat frequency response, which means that with the constraint of no ripple in the passband, it offers the sharpest knee point towards the roll-off region, and within the constraints the most extended bandwidth. In relation to bass reflex loudspeakers, B4 was a very popular target response for many years, and several (non-discrete) alignment <em>families</em> ultimately develops from B4. The response function is:</p>
<div class="math notranslate nohighlight">
\[G_\mathrm{H}(s) = \frac{s^4}{s^4 + 2.6131259 s^3 + 3.4142136 s^2 + 2.6131259 s + 1} \; ,\]</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>

<span class="n">Ql</span> <span class="o">=</span> <span class="mi">10</span>
<span class="n">Qt</span> <span class="o">=</span> <span class="mi">1</span><span class="o">/</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">4</span><span class="o">+</span><span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">8</span><span class="p">))</span><span class="o">-</span><span class="mi">1</span><span class="o">/</span><span class="n">Ql</span><span class="p">)</span>    <span class="c1"># or: Qt = 1/(np.sqrt(a1*a3)-1/Ql) = 1/(1/np.cos(3*np.pi/8)-1/Ql)</span>
<span class="n">h</span> <span class="o">=</span> <span class="mi">1</span>
<span class="n">a3</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">8</span><span class="p">)</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="o">/</span><span class="mi">8</span><span class="p">)</span>        <span class="c1"># a1 = a3 and a2 = 2 + np.sqrt(2)</span>
<span class="n">alpha</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span> <span class="o">-</span> <span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="n">Ql</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="n">a3</span><span class="o">*</span><span class="n">Ql</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="bessel-bl4">
<h3>Bessel BL4<a class="headerlink" href="#bessel-bl4" title="Link to this heading"></a></h3>
<p>The Bessel filter response is named after Friedrich Wilhelm Bessel (1784 -1846) and the practical application was worked out by W. E. Thomson in 1949, in a scientific article titled “Delay Networks Having Maximally Flat Frequency Characteristics,” where he described this filter function applied to delay lines. Low-pass Bessel filters are characterized by the fastest settling time and maximally flat group delay. A frequency range with flat group delay implies linear phase response and hence for impulsive signals within the frequency range there is no phase distortion of the signal, but the property is not guaranteed for high-pass filters, like in a bass reflex alignments, but BL4 still has a very nice impulse response at the expense of bandwidth. The response function is:</p>
<div class="math notranslate nohighlight">
\[G_\mathrm{H}(s) = \frac{s^4}{s^4 + 3.2010859 s^3 + 4.3915503 s^2 + 3.1239399 s + 1} \; ,\]</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>

<span class="n">a1</span> <span class="o">=</span> <span class="mi">105</span><span class="o">/</span><span class="mi">105</span><span class="o">**</span><span class="mf">0.75</span>   <span class="c1"># Polynomial coefficients</span>
<span class="n">a2</span> <span class="o">=</span> <span class="mi">45</span><span class="o">/</span><span class="mi">105</span><span class="o">**</span><span class="mf">0.5</span>
<span class="n">a3</span> <span class="o">=</span> <span class="mi">10</span><span class="o">/</span><span class="mi">105</span><span class="o">**</span><span class="mf">0.25</span>
<span class="n">Ql</span> <span class="o">=</span> <span class="mi">10</span>
<span class="n">Qt</span> <span class="o">=</span> <span class="mi">1</span><span class="o">/</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">a1</span><span class="o">*</span><span class="n">a3</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="o">/</span><span class="n">Ql</span><span class="p">)</span>
<span class="n">A</span> <span class="o">=</span> <span class="n">a1</span><span class="o">/</span><span class="n">a3</span>
<span class="n">e</span> <span class="o">=</span> <span class="n">Qt</span><span class="o">/</span><span class="n">Ql</span>
<span class="n">h</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span> <span class="o">-</span> <span class="n">A</span><span class="o">*</span><span class="n">e</span><span class="p">)</span><span class="o">/</span><span class="p">(</span><span class="n">A</span> <span class="o">-</span> <span class="n">e</span><span class="p">)</span>
<span class="n">alpha</span> <span class="o">=</span> <span class="n">a2</span><span class="o">*</span><span class="n">h</span> <span class="o">-</span> <span class="n">h</span><span class="o">**</span><span class="mi">2</span> <span class="o">-</span> <span class="mi">1</span> <span class="o">-</span> <span class="p">(</span><span class="n">a3</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">h</span><span class="p">)</span><span class="o">*</span><span class="n">Ql</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span><span class="o">/</span><span class="n">Ql</span><span class="o">**</span><span class="mi">2</span>
</pre></div>
</div>
</section>
<section id="linkwitz-riley-lr4">
<h3>Linkwitz-Riley LR4<a class="headerlink" href="#linkwitz-riley-lr4" title="Link to this heading"></a></h3>
<p>The Linkwitz-Riley filter response was described by Siegfried H. Linkwitz in 1976 as two cascaded Butterworth filters, which poses the desirable feature as a crossover between two non-coincident transducers, that they sum in-phase. In relation to bass reflex alignment, we are not crossing to another driver, but the LR4 alignment poses some desirable features like fast settling time (nice impulse response) similar to the BL4 alignment and a more extended frequency response when compared with the BL4 alignment. The response function is:</p>
<div class="math notranslate nohighlight">
\[G_\mathrm{H}(s) = \frac{s^4}{s^4 + 2.8284271 s^3 + 4 s^2 + 2.8284271 s + 1} \; ,\]</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>

<span class="n">Ql</span> <span class="o">=</span> <span class="mi">10</span>
<span class="n">Qt</span> <span class="o">=</span> <span class="mi">1</span><span class="o">/</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">8</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="o">/</span><span class="n">Ql</span><span class="p">)</span>               <span class="c1"># a1 = a3 = np.sqrt(8) and a2 = 4</span>
<span class="n">h</span> <span class="o">=</span> <span class="mi">1</span>
<span class="n">alpha</span> <span class="o">=</span> <span class="mi">1</span><span class="o">/</span><span class="mi">4</span> <span class="o">*</span> <span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="n">Qt</span> <span class="o">-</span> <span class="mi">1</span><span class="o">/</span><span class="n">Ql</span><span class="p">)</span><span class="o">^</span><span class="mi">2</span>
</pre></div>
</div>
<p>We describe this alignment in a bit more detail in its own section <a class="reference internal" href="lr4.html#the-lr4-bass-reflex-alignment"><span class="std std-ref">The LR4 Bass Reflex Alignment</span></a>.</p>
</section>
<section id="critically-damped-cd4">
<h3>Critically damped CD4<a class="headerlink" href="#critically-damped-cd4" title="Link to this heading"></a></h3>
<p>A critically damped filter response poses the desirable feature of no overshoot, not even to a step function input (a worst-case scenario), and with this constraint obtains the most extended frequency response. We obtain this by placing all the poles on the real axis. The CD4 alignment is defined as two cascaded second-order Linkwitz-Riley filters. In relation to bass reflex, this alignment is not commonly used due to the early roll-off in the frequency response. The response function is:</p>
<div class="math notranslate nohighlight">
\[G_\mathrm{H}(s) = \frac{s^4}{s^4 + 4 s^3 + 6 s^2 + 4 s + 1} \; ,\]</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>

<span class="n">Ql</span> <span class="o">=</span> <span class="mi">10</span>
<span class="n">Qt</span> <span class="o">=</span> <span class="mi">1</span><span class="o">/</span><span class="p">(</span><span class="mi">4</span><span class="o">-</span><span class="mi">1</span><span class="o">/</span><span class="n">Ql</span><span class="p">)</span>
<span class="n">h</span> <span class="o">=</span> <span class="mi">1</span>
<span class="n">alpha</span> <span class="o">=</span> <span class="mi">4</span> <span class="o">-</span> <span class="mi">1</span><span class="o">/</span><span class="p">(</span><span class="n">Ql</span> <span class="o">*</span> <span class="n">Qt</span><span class="p">)</span>
</pre></div>
</div>
<p>We describe this alignment in a bit more detail in its own section <a class="reference internal" href="cd4.html#the-cd4-bass-reflex-alignment"><span class="std std-ref">The CD4 Bass Reflex Alignment</span></a>.</p>
</section>
<section id="inter-order-butterworth-ib4">
<h3>Inter-Order Butterworth IB4<a class="headerlink" href="#inter-order-butterworth-ib4" title="Link to this heading"></a></h3>
<p>The fourth-order Inter-Order Butterworth high-pass filter is defined by A. N. Thiele as a combination of a second-order and two identical first-order filters. Two cascaded first-order ‘Butterworth’ filters become a second-order Linkwitz-Riley filter function. The other second-order term is defined by targeting a maximally flat 4th-order response. When compared to the LR4 response, an IB4 alignment will have a bit more extended response, then a sharper knee and faster roll-off (similar to a maximally flat response, but within what’s obtainable with the constraint of two first-order filters). The two first-order filters place two of the poles on the real axis. The response function is:</p>
<div class="math notranslate nohighlight">
\[G_\mathrm{H}(s) = \frac{s^4}{s^4 + 2.7981112 s^3 + 3.9147131 s^2 + 3.0958345 s + 1} \; ,\]</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>

<span class="n">Ql</span> <span class="o">=</span> <span class="mi">10</span>
<span class="n">lam</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>           <span class="c1"># lambda</span>
<span class="n">kap</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="p">(</span><span class="n">lam</span><span class="o">-</span><span class="mi">1</span><span class="p">))</span>   <span class="c1"># kappa</span>
<span class="n">a1</span> <span class="o">=</span> <span class="p">(</span><span class="mi">2</span><span class="o">+</span><span class="n">kap</span><span class="p">)</span><span class="o">*</span><span class="n">lam</span><span class="o">**</span><span class="p">(</span><span class="o">-</span><span class="mf">0.25</span><span class="p">)</span>  <span class="c1"># polynomial coefficients</span>
<span class="n">a2</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="o">+</span><span class="mi">2</span><span class="o">*</span><span class="n">kap</span><span class="o">+</span><span class="n">lam</span><span class="p">)</span><span class="o">*</span><span class="n">lam</span><span class="o">**</span><span class="p">(</span><span class="o">-</span><span class="mf">0.50</span><span class="p">)</span>
<span class="n">a3</span> <span class="o">=</span> <span class="p">(</span><span class="n">kap</span><span class="o">+</span><span class="mi">2</span><span class="o">*</span><span class="n">lam</span><span class="p">)</span><span class="o">*</span><span class="n">lam</span><span class="o">**</span><span class="p">(</span><span class="o">-</span><span class="mf">0.75</span><span class="p">)</span>
<span class="n">Qt</span> <span class="o">=</span> <span class="mi">1</span><span class="o">/</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">a1</span><span class="o">*</span><span class="n">a3</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="o">/</span><span class="n">Ql</span><span class="p">)</span>
<span class="n">q</span> <span class="o">=</span> <span class="mi">1</span><span class="o">/</span><span class="n">Qt</span>
<span class="n">eps</span> <span class="o">=</span> <span class="n">Qt</span><span class="o">/</span><span class="n">Ql</span>
<span class="n">h</span> <span class="o">=</span> <span class="mi">1</span>
<span class="n">h0</span> <span class="o">=</span> <span class="mi">10</span>
<span class="n">tol</span> <span class="o">=</span> <span class="mf">1e-8</span>                 <span class="c1"># numerically solve for h</span>
<span class="k">while</span> <span class="nb">abs</span><span class="p">(</span><span class="n">h</span><span class="o">-</span><span class="n">h0</span><span class="p">)</span> <span class="o">&gt;</span> <span class="n">tol</span><span class="p">:</span>
   <span class="n">h0</span> <span class="o">=</span> <span class="n">h</span>
   <span class="n">S</span> <span class="o">=</span>  <span class="o">-</span><span class="n">eps</span> <span class="o">*</span> <span class="n">q</span><span class="o">**</span><span class="mi">2</span> <span class="o">+</span> <span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">A2</span> <span class="o">-</span> <span class="mi">2</span> <span class="o">+</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">q</span><span class="o">**</span><span class="mi">2</span> <span class="o">*</span> <span class="p">(</span><span class="mi">1</span> <span class="o">+</span> <span class="n">eps</span><span class="o">**</span><span class="mi">2</span> <span class="o">+</span> <span class="n">eps</span> <span class="o">*</span> <span class="p">(</span><span class="n">h</span> <span class="o">+</span> <span class="mi">1</span><span class="o">/</span><span class="n">h</span><span class="p">)))</span>
   <span class="n">h</span> <span class="o">=</span> <span class="n">q</span><span class="o">**</span><span class="mi">2</span> <span class="o">/</span> <span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">S</span> <span class="o">+</span> <span class="n">A1</span> <span class="o">-</span> <span class="n">eps</span><span class="o">**</span><span class="mi">2</span> <span class="o">*</span> <span class="n">q</span><span class="o">**</span><span class="mi">2</span> <span class="o">*</span> <span class="n">h</span><span class="p">)</span>

<span class="n">alpha</span> <span class="o">=</span> <span class="n">S</span> <span class="o">*</span> <span class="n">h</span> <span class="o">-</span> <span class="p">(</span><span class="mi">1</span> <span class="o">+</span> <span class="n">h</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span>
</pre></div>
</div>
<p>We describe this alignment in a bit more detail in its own section <a class="reference internal" href="ib4.html#the-ib4-bass-reflex-alignment"><span class="std std-ref">The IB4 Bass Reflex Alignment</span></a>.</p>
</section>
<section id="comparison">
<h3>Comparison<a class="headerlink" href="#comparison" title="Link to this heading"></a></h3>
<p><a class="reference internal" href="#discrete-spl"><span class="std std-numref">Fig. 11</span></a> and <a class="reference internal" href="#discrete-gd"><span class="std std-numref">Fig. 12</span></a> shows the (normalized) magnitude response and group delay response of the above mentioned discrete alignments.</p>
<figure class="align-center" id="discrete-spl">
<a class="reference internal image-reference" href="_images/discrete_spl.png"><img alt="_images/discrete_spl.png" src="_images/discrete_spl.png" style="width: 80%;" />
</a>
<figcaption>
<p><span class="caption-number">Fig. 11 </span><span class="caption-text">The normalized magnitude response of the discrete alignments.</span><a class="headerlink" href="#discrete-spl" title="Link to this image"></a></p>
</figcaption>
</figure>
<figure class="align-center" id="discrete-gd">
<a class="reference internal image-reference" href="_images/discrete_gd.png"><img alt="_images/discrete_gd.png" src="_images/discrete_gd.png" style="width: 80%;" />
</a>
<figcaption>
<p><span class="caption-number">Fig. 12 </span><span class="caption-text">The normalized group delay response of the discrete alignments.</span><a class="headerlink" href="#discrete-gd" title="Link to this image"></a></p>
</figcaption>
</figure>
<p>Note: These graphs are <strong>not</strong> normalized relative to the driver’s resonance frequency, but <span class="math notranslate nohighlight">\(\omega_0 \doteq \sqrt{\omega_B \, \omega_S} = \sqrt{h} \cdot \omega_S\)</span>.</p>
</section>
</section>
<section id="misalignment-of-discrete-alignments">
<h2>Misalignment of discrete alignments<a class="headerlink" href="#misalignment-of-discrete-alignments" title="Link to this heading"></a></h2>
<p>For the discrete alignments, <span class="math notranslate nohighlight">\(\qt\)</span> is not a free variable. In practice you need to consider what to do, if the driver at hand does not match the <span class="math notranslate nohighlight">\(\qt\)</span> required by your target alignment. Below we describe three options.</p>
<section id="method-of-ignorance">
<h3>1. Method of ignorance<a class="headerlink" href="#method-of-ignorance" title="Link to this heading"></a></h3>
<p>When targeting one of the discrete alignments, it is unlikely (almost impossible) that you will have a driver available at hand, which fits the required <span class="math notranslate nohighlight">\(\qt\)</span> value exactly. The simplest solution is to ignore this fact and continue designing the speaker as if there is a perfect match. This we call the method of ignorance, because you ignore the fact that <span class="math notranslate nohighlight">\(\qt\)</span> isn’t matched perfectly.</p>
<p>In Speakerbench, when we apply this method, the alignment acronym is followed by an ‘i’ as in B4i, LR4i and BL4i.</p>
<p><strong>Source code</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>

<span class="n">Ql</span><span class="o">=</span><span class="mi">10</span>
<span class="n">Qtvec</span><span class="o">=</span><span class="p">[</span><span class="mf">0.34</span><span class="p">,</span><span class="mf">0.35</span><span class="p">,</span><span class="mf">0.36</span><span class="p">,</span><span class="mf">0.37</span><span class="p">,</span><span class="mf">0.38</span><span class="p">,</span><span class="mf">0.39</span><span class="p">,</span><span class="mf">0.40</span><span class="p">]</span>

<span class="c1"># Butterworth B4 (from theory)</span>
<span class="n">Qt</span> <span class="o">=</span> <span class="mf">1.</span><span class="o">/</span><span class="p">(</span><span class="mf">1.</span><span class="o">/</span><span class="n">np</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="mi">3</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="o">/</span><span class="mi">8</span><span class="p">)</span><span class="o">-</span><span class="mf">1.</span><span class="o">/</span><span class="n">Ql</span><span class="p">)</span>
<span class="n">h_ref</span> <span class="o">=</span> <span class="mi">1</span>
<span class="n">a3</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">8</span><span class="p">)</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="o">/</span><span class="mi">8</span><span class="p">)</span>
<span class="n">alpha_ref</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span> <span class="o">-</span> <span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="n">Ql</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="n">a3</span><span class="o">*</span><span class="n">Ql</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;            B4i &#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39; Qts     h    alpha &#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;-----  ------------- &#39;</span><span class="p">)</span>

<span class="k">for</span> <span class="n">Qt</span> <span class="ow">in</span> <span class="n">Qtvec</span><span class="p">:</span>
   <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{:.3f}</span><span class="s1">  </span><span class="si">{:.4f}</span><span class="s1"> </span><span class="si">{:.4f}</span><span class="s1">  &#39;</span>
         <span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">Qt</span><span class="p">,</span><span class="n">h_ref</span><span class="p">,</span><span class="n">alpha_ref</span><span class="p">))</span>
</pre></div>
</div>
<p><strong>Output</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>            <span class="n">B4i</span>
 <span class="n">Qts</span>     <span class="n">h</span>    <span class="n">alpha</span>
<span class="o">-----</span>  <span class="o">-------------</span>
<span class="mf">0.340</span>  <span class="mf">1.0000</span> <span class="mf">1.1629</span>
<span class="mf">0.350</span>  <span class="mf">1.0000</span> <span class="mf">1.1629</span>
<span class="mf">0.360</span>  <span class="mf">1.0000</span> <span class="mf">1.1629</span>
<span class="mf">0.370</span>  <span class="mf">1.0000</span> <span class="mf">1.1629</span>
<span class="mf">0.380</span>  <span class="mf">1.0000</span> <span class="mf">1.1629</span>
<span class="mf">0.390</span>  <span class="mf">1.0000</span> <span class="mf">1.1629</span>
<span class="mf">0.400</span>  <span class="mf">1.0000</span> <span class="mf">1.1629</span>
</pre></div>
</div>
<p>It can be observed that <span class="math notranslate nohighlight">\(h\)</span> and <span class="math notranslate nohighlight">\(\alpha\)</span> are completely unaffected by the change in  <span class="math notranslate nohighlight">\(\qt\)</span>, i.e., the fact that <span class="math notranslate nohighlight">\(\qt\)</span> is not correct, in this example for the Butterworth B4 alignment, is simply ignored.</p>
<p>The method of ignorance sounds a bit stupid, but unless a designer has taken explicit steps to handle deviations in <span class="math notranslate nohighlight">\(\qt\)</span> (see sections below), the designer inadvertently chose this method. Our expectation is that this method is (or was) quite commonly used.</p>
</section>
<section id="compliance-alteration">
<h3>2. Compliance Alteration<a class="headerlink" href="#compliance-alteration" title="Link to this heading"></a></h3>
<p>Another approach to handling the situation where the driver <span class="math notranslate nohighlight">\(\qt\)</span> isn’t matched perfectly, is to assume the misalignment (or error) is due to the driver suspension being either too soft or too stiff, i.e., that the driver compliance is imagined to be altered such that the target <span class="math notranslate nohighlight">\(\qt\)</span> value for the target alignment is met.</p>
<p>Compliance Alteration is computed by first 1) Calculating the reference <span class="math notranslate nohighlight">\(Q_\mathrm{Tref}\)</span> for your target and the resulting <span class="math notranslate nohighlight">\(\alpha_\mathrm{ref}\)</span> and <span class="math notranslate nohighlight">\(h_\mathrm{ref}\)</span>, then 2) shift <span class="math notranslate nohighlight">\(\alpha\)</span> and <span class="math notranslate nohighlight">\(h\)</span> relative to the <span class="math notranslate nohighlight">\(\qt\)</span> for the actual driver at hand in the following way:</p>
<div class="math notranslate nohighlight">
\[\begin{split}\begin{eqnarray}
\alpha &amp;=&amp; \alpha_\mathrm{ref} \cdot \Big( \frac{Q_\mathrm{Tref}}{\qt} \Big)^2 \; , \\
h &amp;=&amp; h_\mathrm{ref} \cdot \frac{Q_\mathrm{Tref}}{\qt} \; .
\end{eqnarray}\end{split}\]</div>
<p>In Speakerbench, when we apply this method, the alignment acronym is followed by ‘CA’ as in B4CA, LR4CA and BL4CA.</p>
<p><strong>Source code</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>

<span class="k">def</span> <span class="nf">ca_shift</span><span class="p">(</span><span class="n">Qtref</span><span class="p">,</span><span class="n">Qt</span><span class="p">,</span><span class="n">aref</span><span class="p">,</span><span class="n">href</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Function calculating Compliance Alteration parameter shift&quot;&quot;&quot;</span>
    <span class="n">h_out</span> <span class="o">=</span> <span class="n">href</span> <span class="o">*</span> <span class="n">Qtref</span><span class="o">/</span><span class="n">Qt</span>
    <span class="n">alpha_out</span> <span class="o">=</span> <span class="n">aref</span> <span class="o">*</span> <span class="p">(</span><span class="n">Qtref</span><span class="o">/</span><span class="n">Qt</span><span class="p">)</span><span class="o">**</span><span class="mi">2</span>
    <span class="k">return</span> <span class="n">h_out</span><span class="p">,</span><span class="n">alpha_out</span>

<span class="n">Ql</span> <span class="o">=</span> <span class="mi">10</span>
<span class="n">Qtvec</span><span class="o">=</span><span class="p">[</span><span class="mf">0.34</span><span class="p">,</span><span class="mf">0.36</span><span class="p">,</span><span class="mf">0.38</span><span class="p">,</span><span class="mf">0.40</span><span class="p">,</span><span class="mf">0.42</span><span class="p">]</span>

<span class="n">Qt</span> <span class="o">=</span> <span class="mf">1.</span><span class="o">/</span><span class="p">(</span><span class="mf">1.</span><span class="o">/</span><span class="n">np</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="mi">3</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="o">/</span><span class="mi">8</span><span class="p">)</span><span class="o">-</span><span class="mf">1.</span><span class="o">/</span><span class="n">Ql</span><span class="p">)</span>
<span class="n">h_ref</span> <span class="o">=</span> <span class="mi">1</span>
<span class="n">a3</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">8</span><span class="p">)</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="o">/</span><span class="mi">8</span><span class="p">)</span>
<span class="n">alpha_ref</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span> <span class="o">-</span> <span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="n">Ql</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="n">a3</span><span class="o">*</span><span class="n">Ql</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;           B4CA&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39; Qts     h    alpha &#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;-----  -------------&#39;</span><span class="p">)</span>

<span class="k">for</span> <span class="n">i</span><span class="p">,</span><span class="n">Qts</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">Qtvec</span><span class="p">):</span>
   <span class="n">h</span><span class="p">,</span><span class="n">alpha</span> <span class="o">=</span> <span class="n">ca_shift</span><span class="p">(</span><span class="n">Qt</span><span class="p">,</span><span class="n">Qts</span><span class="p">,</span><span class="n">alpha_ref</span><span class="p">,</span><span class="n">h_ref</span><span class="p">)</span>
   <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{:.3f}</span><span class="s1">  </span><span class="si">{:.4f}</span><span class="s1"> </span><span class="si">{:.4f}</span><span class="s1">  &#39;</span>
      <span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">Qts</span><span class="p">,</span><span class="n">h</span><span class="p">,</span><span class="n">alpha</span><span class="p">)</span>   <span class="p">)</span>
</pre></div>
</div>
<p><strong>Output</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>           <span class="n">B4CA</span>
 <span class="n">Qts</span>     <span class="n">h</span>    <span class="n">alpha</span>
<span class="o">-----</span>  <span class="o">-------------</span>
<span class="mf">0.340</span>  <span class="mf">1.1703</span> <span class="mf">1.5928</span>
<span class="mf">0.360</span>  <span class="mf">1.1053</span> <span class="mf">1.4207</span>
<span class="mf">0.380</span>  <span class="mf">1.0471</span> <span class="mf">1.2751</span>
<span class="mf">0.400</span>  <span class="mf">0.9948</span> <span class="mf">1.1508</span>
<span class="mf">0.420</span>  <span class="mf">0.9474</span> <span class="mf">1.0438</span>
</pre></div>
</div>
<p>Compliance Alteration was first presented in Voice Coil Magazine, October 2024. Later the article became Open Access when AudioXpress released an
<a class="reference external" href="https://audioxpress.com/article/bass-reflex-alignments-compliance-alteration">online version January 2025</a>.
It can be applied to any target response function of your choice. This method is particularly interesting if your driver <span class="math notranslate nohighlight">\(\qt\)</span> is a bit too high, because with the compliance alteration technique, the box calculation is then treated as if the suspension is a bit too stiff. Fortunately, the driver suspension will experience aging (or burn-in) over time and will soften. When this happens, the provided equations dictate that your system will, over time, move toward the desired target response, and if softened enough to reach <span class="math notranslate nohighlight">\(Q_\mathrm{Tref}\)</span>, it drops into place and becomes a correct response without any error.</p>
</section>
<section id="generalized-quasi-alignments">
<h3>3. Generalized quasi-alignments<a class="headerlink" href="#generalized-quasi-alignments" title="Link to this heading"></a></h3>
<p>In a design process based on alignments, we consider <span class="math notranslate nohighlight">\((Q_L,Q_T)\)</span>
as given inputs and <span class="math notranslate nohighlight">\((\alpha,h)\)</span> as output parameters to be
computed by the alignment. Since we have two free parameters, it follows
that we can specify only two of the three values <span class="math notranslate nohighlight">\((A_1,A_2,A_3)\)</span>.
The approach taken is to relax (i.e., ignore) the condition on
<span class="math notranslate nohighlight">\(A_3\)</span>; that is, we match the behaviour in the pass-band
<span class="math notranslate nohighlight">\((A_1)\)</span> and mid-band <span class="math notranslate nohighlight">\((A_2)\)</span> but <strong>not</strong> the stop-band
<span class="math notranslate nohighlight">\((A_3)\)</span>. This is described in more detail for so-called QB3
(although we prefer B4Q because the order of the filter is 4) lossless
case by Benson <span id="id4">[<a class="reference internal" href="zreferences.html#id8" title="J.E. Benson. Theory and Design of Loudspeaker Enclosures. Synergetic Audio Concepts (with permission from Dr. J.E. Benson and Amalgamated Wireless Australasia Technical Review), 1993.">Ben93</a>]</span> (page 188).</p>
<p>By defining <span class="math notranslate nohighlight">\(G = \left( \alpha+1+h^2 \right)/h\)</span>, we can rewrite these two conditions as</p>
<div class="math notranslate nohighlight">
\[\begin{split}\begin{eqnarray}
A_1 &amp;=&amp; \frac{q^2}{h} - 2G + \epsilon^2 q^2 h \; , \\
A_2 &amp;=&amp; \left( G + \epsilon q^2 \right)^2 + 2-2q^2\left[ 1+\epsilon^2+\epsilon (h+1/h) \right] \; .
\end{eqnarray}\end{split}\]</div>
<p>where <span class="math notranslate nohighlight">\(q = 1/Q_T\)</span> and <span class="math notranslate nohighlight">\(\epsilon = Q_T/Q_L \ll 1\)</span> is a small parameter.</p>
<p><strong>Recursive solution</strong></p>
<p>In the limit <span class="math notranslate nohighlight">\(\epsilon = 0\)</span>, we can solve explicitly for <span class="math notranslate nohighlight">\((G,h)\)</span>, and this uniquely determines <span class="math notranslate nohighlight">\((\alpha,h)\)</span>. However, an explicit solution is not possible in the case <span class="math notranslate nohighlight">\(\epsilon &gt;  0\)</span>. But since <span class="math notranslate nohighlight">\(\epsilon\)</span> is small, we expect the following recursion to converge in a few iterations:</p>
<div class="math notranslate nohighlight">
\[\begin{split}\begin{eqnarray}
G &amp;=&amp; -\epsilon q^2 + \sqrt{A_2-2+2q^2 \left[ 1+\epsilon^2+\epsilon\left(h+1/h\right)\right]} \\
h &amp;=&amp; \frac{q^2}{2G + A_1-\epsilon^2 q^2 h}
\end{eqnarray}\end{split}\]</div>
<p>Once converged, we can obtain <span class="math notranslate nohighlight">\(\alpha\)</span> according to</p>
<div class="math notranslate nohighlight">
\[\alpha = Gh-\left(1+h^2\right)\]</div>
<p>Finally, note that by setting <span class="math notranslate nohighlight">\(\epsilon=0\)</span> above we obtain the lossless solution explicitly.</p>
<p><strong>Source code</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>

<span class="k">def</span> <span class="nf">quasi</span><span class="p">(</span><span class="n">Ql</span><span class="p">,</span><span class="n">Qt</span><span class="p">,</span><span class="n">A1</span><span class="p">,</span><span class="n">A2</span><span class="p">):</span>

   <span class="n">q</span> <span class="o">=</span> <span class="mi">1</span><span class="o">/</span><span class="n">Qt</span>
   <span class="n">eps</span> <span class="o">=</span> <span class="n">Qt</span><span class="o">/</span><span class="n">Ql</span>

   <span class="c1"># starting values</span>
   <span class="n">h</span> <span class="o">=</span> <span class="mi">1</span>
   <span class="n">alpha</span> <span class="o">=</span> <span class="mi">1</span>

   <span class="c1"># iterate (should add convergence check)</span>
   <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">4</span><span class="p">):</span>
      <span class="n">gamma</span> <span class="o">=</span> <span class="o">-</span><span class="n">eps</span><span class="o">*</span><span class="n">q</span><span class="o">**</span><span class="mi">2</span><span class="o">+</span><span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">A2</span><span class="o">-</span><span class="mi">2</span><span class="o">+</span><span class="mi">2</span><span class="o">*</span><span class="n">q</span><span class="o">**</span><span class="mi">2</span><span class="o">*</span><span class="p">(</span><span class="mi">1</span><span class="o">+</span><span class="n">eps</span><span class="o">**</span><span class="mi">2</span><span class="o">+</span><span class="n">eps</span><span class="o">*</span><span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="n">h</span><span class="o">+</span><span class="n">h</span><span class="p">)))</span>
      <span class="n">h</span> <span class="o">=</span> <span class="n">q</span><span class="o">**</span><span class="mi">2</span><span class="o">/</span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">gamma</span><span class="o">+</span><span class="n">A1</span><span class="o">-</span><span class="n">eps</span><span class="o">**</span><span class="mi">2</span><span class="o">*</span><span class="n">h</span><span class="o">*</span><span class="n">q</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span>

   <span class="n">alpha</span> <span class="o">=</span> <span class="n">h</span><span class="o">*</span><span class="n">gamma</span><span class="o">-</span><span class="p">(</span><span class="mi">1</span><span class="o">+</span><span class="n">h</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span>
   <span class="k">return</span> <span class="n">h</span><span class="p">,</span><span class="n">alpha</span>

<span class="n">Ql</span><span class="o">=</span><span class="mi">10</span>
<span class="n">Qtvec</span><span class="o">=</span><span class="p">[</span><span class="mf">0.31</span><span class="p">,</span><span class="mf">0.32</span><span class="p">,</span><span class="mf">0.33</span><span class="p">,</span><span class="mf">0.34</span><span class="p">,</span><span class="mf">0.35</span><span class="p">,</span><span class="mf">0.36</span><span class="p">,</span><span class="mf">0.37</span><span class="p">,</span><span class="mf">0.38</span><span class="p">,</span><span class="mf">0.39</span><span class="p">,</span><span class="mf">0.40</span><span class="p">]</span>

<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;            BL4Q           LR4Q           B4Q&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39; Qt      h    alpha     h    alpha     h    alpha &#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;-----  -------------  -------------  -------------&#39;</span><span class="p">)</span>

<span class="k">for</span> <span class="n">Qt</span> <span class="ow">in</span> <span class="n">Qtvec</span><span class="p">:</span>
   <span class="n">h1</span><span class="p">,</span><span class="n">alpha1</span> <span class="o">=</span> <span class="n">quasi</span><span class="p">(</span><span class="n">Ql</span><span class="p">,</span><span class="n">Qt</span><span class="p">,</span><span class="mf">1.464</span><span class="p">,</span><span class="mf">1.286</span><span class="p">)</span>
   <span class="n">h2</span><span class="p">,</span><span class="n">alpha2</span> <span class="o">=</span> <span class="n">quasi</span><span class="p">(</span><span class="n">Ql</span><span class="p">,</span><span class="n">Qt</span><span class="p">,</span><span class="mf">0.0</span><span class="p">,</span><span class="mf">2.0</span><span class="p">)</span>
   <span class="n">h3</span><span class="p">,</span><span class="n">alpha3</span> <span class="o">=</span> <span class="n">quasi</span><span class="p">(</span><span class="n">Ql</span><span class="p">,</span><span class="n">Qt</span><span class="p">,</span><span class="mf">0.0</span><span class="p">,</span><span class="mf">0.0</span><span class="p">)</span>

   <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{:.3f}</span><span class="s1">  </span><span class="si">{:.4f}</span><span class="s1"> </span><span class="si">{:.4f}</span><span class="s1">  </span><span class="si">{:.4f}</span><span class="s1"> </span><span class="si">{:.4f}</span><span class="s1">  </span><span class="si">{:.4f}</span><span class="s1"> </span><span class="si">{:.4f}</span><span class="s1">  &#39;</span>
         <span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">Qt</span><span class="p">,</span><span class="n">h1</span><span class="p">,</span><span class="n">alpha1</span><span class="p">,</span><span class="n">h2</span><span class="p">,</span><span class="n">alpha2</span><span class="p">,</span><span class="n">h3</span><span class="p">,</span><span class="n">alpha3</span><span class="p">))</span>
</pre></div>
</div>
<p><strong>Output</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>           <span class="n">BL4Q</span>           <span class="n">LR4Q</span>           <span class="n">B4Q</span>
 <span class="n">Qt</span>      <span class="n">h</span>    <span class="n">alpha</span>     <span class="n">h</span>    <span class="n">alpha</span>     <span class="n">h</span>    <span class="n">alpha</span>
<span class="o">-----</span>  <span class="o">-------------</span>  <span class="o">-------------</span>  <span class="o">-------------</span>
<span class="mf">0.310</span>  <span class="mf">1.0341</span> <span class="mf">2.3819</span>  <span class="mf">1.1887</span> <span class="mf">2.7969</span>  <span class="mf">1.2505</span> <span class="mf">2.6469</span>
<span class="mf">0.320</span>  <span class="mf">0.9972</span> <span class="mf">2.1634</span>  <span class="mf">1.1505</span> <span class="mf">2.5657</span>  <span class="mf">1.2146</span> <span class="mf">2.4150</span>
<span class="mf">0.330</span>  <span class="mf">0.9626</span> <span class="mf">1.9648</span>  <span class="mf">1.1146</span> <span class="mf">2.3551</span>  <span class="mf">1.1809</span> <span class="mf">2.2038</span>
<span class="mf">0.340</span>  <span class="mf">0.9300</span> <span class="mf">1.7838</span>  <span class="mf">1.0808</span> <span class="mf">2.1629</span>  <span class="mf">1.1493</span> <span class="mf">2.0109</span>
<span class="mf">0.350</span>  <span class="mf">0.8994</span> <span class="mf">1.6185</span>  <span class="mf">1.0489</span> <span class="mf">1.9869</span>  <span class="mf">1.1197</span> <span class="mf">1.8342</span>
<span class="mf">0.360</span>  <span class="mf">0.8704</span> <span class="mf">1.4670</span>  <span class="mf">1.0188</span> <span class="mf">1.8253</span>  <span class="mf">1.0918</span> <span class="mf">1.6719</span>
<span class="mf">0.370</span>  <span class="mf">0.8431</span> <span class="mf">1.3279</span>  <span class="mf">0.9902</span> <span class="mf">1.6767</span>  <span class="mf">1.0656</span> <span class="mf">1.5225</span>
<span class="mf">0.380</span>  <span class="mf">0.8172</span> <span class="mf">1.1999</span>  <span class="mf">0.9631</span> <span class="mf">1.5396</span>  <span class="mf">1.0409</span> <span class="mf">1.3846</span>
<span class="mf">0.390</span>  <span class="mf">0.7927</span> <span class="mf">1.0819</span>  <span class="mf">0.9374</span> <span class="mf">1.4130</span>  <span class="mf">1.0175</span> <span class="mf">1.2571</span>
<span class="mf">0.400</span>  <span class="mf">0.7694</span> <span class="mf">0.9727</span>  <span class="mf">0.9130</span> <span class="mf">1.2957</span>  <span class="mf">0.9955</span> <span class="mf">1.1389</span>
</pre></div>
</div>
<p>In Speakerbench, when we apply this method, the alignment acronym is
followed by a ‘Q’ as in B4Q, LR4Q and BL4Q. Be aware, the B4Q in
Speakerbench is the same as what is known in classical theory as the QB3
alignment.</p>
<p>Note: Bullock defines SQB3 as a continuation of the QB3 alignment, but
for drivers with <span class="math notranslate nohighlight">\(Q_T &gt; 0.4\)</span> and up to 0.56.</p>
<p>A special (discrete) alignment named the Inter-Order Butterworth (IB4)
alignment was described by Thiele. This is a special case of the B4Q
alignments, and we describe this in its own section:
<a class="reference internal" href="ib4.html#the-ib4-bass-reflex-alignment"><span class="std std-ref">The IB4 Bass Reflex Alignment</span></a>.</p>
<div class="toctree-wrapper compound">
</div>
</section>
</section>
<section id="discrete-alignments-summary">
<h2>Discrete Alignments Summary<a class="headerlink" href="#discrete-alignments-summary" title="Link to this heading"></a></h2>
<p>We have presented three methods to cope with the (quite normal) situation that the <span class="math notranslate nohighlight">\(\qt\)</span> for your driver does not match the target response exactly. For example, consider the 4th order Butterworth, we have the B4i, B4Q (=QB3), as well as the B4CA method. With the three methods in mind, you can study their location in the Alignment Chart. The three methods will converge to a single point as your driver <span class="math notranslate nohighlight">\(\qt\)</span> approaches the <span class="math notranslate nohighlight">\(\qt\)</span> value for the target response. On the other hand, when your driver <span class="math notranslate nohighlight">\(\qt\)</span> is far away from the <span class="math notranslate nohighlight">\(\qt\)</span> for the target response, the three methods will be far away from each other.</p>
<p>If you wish to target something rather exact, then choose an alignment where the three methods are close, ideally they overlap.</p>
<p>If you can accept deviation from your target alignment, consider studying what you get from each of the three methods, and go for a method which reflects your target performance, or go for a compromise (i.e., choose something in-between the parameters proposed by the methods).</p>
</section>
<section id="alignment-families">
<h2>Alignment families<a class="headerlink" href="#alignment-families" title="Link to this heading"></a></h2>
<p>When a response is non-discrete, then these responses are not defined by one explicit set of polynomial coefficients. Such a type of response function can utilize a range of driver <span class="math notranslate nohighlight">\(\qt\)</span> values, and it is called an <strong>Alignment family</strong>.</p>
<section id="chebyshev">
<h3>Chebyshev<a class="headerlink" href="#chebyshev" title="Link to this heading"></a></h3>
<p>Should we write something about this?</p>
<p>The Chebyshev alignment for loudspeakers was first described (but not named) by a Dutch engineer, F. J. van Leeuwen, in 1956, and is named after Pafnuty Chebyshev because the response function may be described by the fourth-order Chebyshev polynomial of the first kind:</p>
<div class="math notranslate nohighlight">
\[T_4(x) = 8x^4 - 8x^2 + 1\]</div>
<p>The squared modulus of the low-pass filter function becomes:</p>
<div class="math notranslate nohighlight">
\[\left| H(j \omega_n) \right|^2 = 1 + \epsilon^2 \cdot T_4(\omega_n)^2 ,\]</div>
<p>where <span class="math notranslate nohighlight">\(\epsilon\)</span> can be chosen by the designer and determines the amount of ripple (dB): <span class="math notranslate nohighlight">\(r = 10 \cdot log10(1 + \epsilon^2)\)</span>. The equivalent squared modulus of the high-pass filter function (as used for bass reflex) is then defined by:</p>
<div class="math notranslate nohighlight">
\[\left| H(s) \right|^2 = \frac{1 + \epsilon^2} {1 + \epsilon^2 \cdot T_4(1/s)^2 } ,\]</div>
<p>where <span class="math notranslate nohighlight">\(s = j \omega / \omega_0\)</span> is the dimensionless complex frequency variable normalized to <span class="math notranslate nohighlight">\(\omega_0 \doteq \sqrt{\omega_B \, \omega_S}\)</span>. This equation can be converted into a transfer function <span class="math notranslate nohighlight">\(G(s)\)</span> and the polynomial coefficients can be derived.</p>
<p>In the limit case with <span class="math notranslate nohighlight">\(\epsilon = 0\)</span> the filter function becomes the Butterworth response function.</p>
<p>A.N. Thiele discovered that, if one applies the equations for the Chebyshev alignment to drivers with a <span class="math notranslate nohighlight">\(\qt\)</span> value below the B4 discrete alignment, the equations continue to work, but there is no ripple in the response, and he named it Sub-Chebyshev (SC4).</p>
<p>In a typical situation, the designer has picked a driver with a specific <span class="math notranslate nohighlight">\(\qt\)</span> value, and when choosing the Chebyshev alignment, wish to minimize the ripple. The computation (as implemented in Speakerbench) utilizes a recursive algorithm.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>

<span class="n">Ql</span> <span class="o">=</span> <span class="mi">10</span>
<span class="n">qts</span> <span class="o">=</span> <span class="mf">0.48</span>     <span class="c1"># Change this to suit your driver</span>
<span class="n">h</span> <span class="o">=</span> <span class="mf">0.0</span>        <span class="c1"># Initialization</span>
<span class="n">e</span> <span class="o">=</span> <span class="n">qts</span><span class="o">/</span><span class="n">Ql</span>
<span class="n">z</span> <span class="o">=</span> <span class="mi">8</span><span class="o">*</span><span class="p">(</span><span class="mi">1</span><span class="o">+</span><span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">2</span><span class="p">))</span><span class="o">*</span><span class="n">qts</span><span class="o">**</span><span class="mi">2</span>
<span class="n">a0</span> <span class="o">=</span> <span class="n">z</span><span class="o">-</span><span class="mi">1</span>
<span class="n">b0</span> <span class="o">=</span> <span class="n">z</span><span class="o">*</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">8</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">-</span><span class="mi">6</span>
<span class="n">c0</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span>
<span class="n">x</span> <span class="o">=</span> <span class="p">(</span><span class="o">-</span><span class="n">b0</span><span class="o">+</span><span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">b0</span><span class="o">**</span><span class="mi">2</span><span class="o">-</span><span class="mi">4</span><span class="o">*</span><span class="n">a0</span><span class="o">*</span><span class="n">c0</span><span class="p">))</span><span class="o">/</span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">a0</span><span class="p">)</span>

<span class="n">x0</span> <span class="o">=</span> <span class="mf">1e6</span>       <span class="c1"># initialization</span>
<span class="n">tol</span> <span class="o">=</span> <span class="mf">1e-8</span>     <span class="c1"># Iteration condition</span>
<span class="k">while</span> <span class="nb">abs</span><span class="p">(</span><span class="n">x</span><span class="o">-</span><span class="n">x0</span><span class="p">)</span> <span class="o">&gt;</span> <span class="n">tol</span><span class="p">:</span>
   <span class="n">x0</span> <span class="o">=</span> <span class="n">x</span>

   <span class="c1"># Compute D,P,Q,dP,dQ,dW</span>
   <span class="n">d</span>  <span class="o">=</span> <span class="p">(</span><span class="n">x</span><span class="o">**</span><span class="mi">2</span><span class="o">+</span><span class="mi">6</span><span class="o">*</span><span class="n">x</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span><span class="o">/</span><span class="mi">8</span>
   <span class="n">p</span>  <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="n">x</span><span class="p">)</span><span class="o">/</span><span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">8</span><span class="p">))</span><span class="o">/</span><span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">d</span><span class="p">)</span>
   <span class="n">q</span>  <span class="o">=</span> <span class="n">qts</span><span class="o">**</span><span class="mi">2</span><span class="o">*</span><span class="n">x</span><span class="o">*</span><span class="p">(</span><span class="mi">4</span><span class="o">+</span><span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">8</span><span class="p">))</span><span class="o">/</span><span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">d</span><span class="p">)</span>
   <span class="n">dp</span> <span class="o">=</span> <span class="n">e</span><span class="o">*</span><span class="p">(</span><span class="n">p</span><span class="o">**</span><span class="mi">2</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">/</span><span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="n">e</span><span class="o">*</span><span class="n">p</span><span class="p">)</span>
   <span class="n">dq</span> <span class="o">=</span> <span class="mf">0.5</span><span class="o">*</span><span class="p">(</span><span class="o">-</span><span class="p">(</span><span class="n">q</span><span class="o">+</span><span class="mi">2</span><span class="o">*</span><span class="n">e</span><span class="p">)</span><span class="o">+</span><span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">((</span><span class="n">q</span><span class="o">-</span><span class="mi">2</span><span class="o">*</span><span class="n">e</span><span class="p">)</span><span class="o">**</span><span class="mi">2</span><span class="o">-</span><span class="mi">4</span><span class="o">*</span><span class="n">e</span><span class="o">**</span><span class="mi">2</span><span class="p">))</span>
   <span class="n">dw</span> <span class="o">=</span> <span class="n">q</span><span class="o">*</span><span class="n">dp</span><span class="o">+</span><span class="n">p</span><span class="o">*</span><span class="n">dq</span><span class="o">+</span><span class="n">dp</span><span class="o">*</span><span class="n">dq</span>

   <span class="c1"># Define quadratic coefficients including perturbation dw</span>
   <span class="n">a</span> <span class="o">=</span> <span class="n">a0</span><span class="o">+</span><span class="n">dw</span>
   <span class="n">b</span> <span class="o">=</span> <span class="n">b0</span><span class="o">+</span><span class="mi">6</span><span class="o">*</span><span class="n">dw</span>
   <span class="n">c</span> <span class="o">=</span> <span class="n">c0</span><span class="o">+</span><span class="n">dw</span>
   <span class="n">x</span> <span class="o">=</span> <span class="p">(</span><span class="o">-</span><span class="n">b</span><span class="o">+</span><span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">b</span><span class="o">**</span><span class="mi">2</span><span class="o">-</span><span class="mi">4</span><span class="o">*</span><span class="n">a</span><span class="o">*</span><span class="n">c</span><span class="p">))</span><span class="o">/</span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">a</span><span class="p">)</span>

<span class="k">if</span> <span class="n">np</span><span class="o">.</span><span class="n">isreal</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>       <span class="c1"># ensure b**2 &gt; 4*a*c</span>
   <span class="k">if</span> <span class="n">x</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">:</span>             <span class="c1"># ensure x &gt; 0</span>
      <span class="n">k</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>   <span class="c1"># outside qt-range, this runs into negative x-values</span>
      <span class="n">h</span> <span class="o">=</span> <span class="n">q</span><span class="o">+</span><span class="n">dq</span>
      <span class="n">a2</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="o">+</span><span class="n">x</span><span class="o">*</span><span class="p">(</span><span class="mi">1</span><span class="o">+</span><span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">2</span><span class="p">)))</span><span class="o">/</span><span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">d</span><span class="p">)</span>
      <span class="n">alpha</span> <span class="o">=</span> <span class="o">-</span><span class="p">(</span><span class="mi">1</span><span class="o">+</span><span class="n">h</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span><span class="o">-</span><span class="n">e</span><span class="o">*</span><span class="n">h</span><span class="o">/</span><span class="n">qts</span><span class="o">**</span><span class="mi">2</span><span class="o">+</span><span class="n">a2</span><span class="o">*</span><span class="n">h</span>
      <span class="n">K</span> <span class="o">=</span> <span class="mi">1</span><span class="o">/</span><span class="n">k</span><span class="o">**</span><span class="mi">2</span> <span class="o">-</span> <span class="mi">1</span>   <span class="c1"># calculate ripple, just curious</span>
      <span class="n">dB_ripple</span> <span class="o">=</span> <span class="mi">10</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">log10</span><span class="p">(</span><span class="mi">1</span> <span class="o">+</span> <span class="n">K</span><span class="o">**</span><span class="mi">4</span> <span class="o">/</span> <span class="p">(</span><span class="mi">64</span> <span class="o">+</span> <span class="mi">28</span><span class="o">*</span><span class="n">K</span> <span class="o">+</span> <span class="mi">80</span><span class="o">*</span><span class="n">K</span><span class="o">**</span><span class="mi">2</span> <span class="o">+</span> <span class="mi">16</span><span class="o">*</span><span class="n">K</span><span class="o">**</span><span class="mi">3</span><span class="p">))</span>
</pre></div>
</div>
</section>
<section id="boombox">
<h3>Boombox<a class="headerlink" href="#boombox" title="Link to this heading"></a></h3>
<p>The Boombox family of alignments was first described by W.J.J. Hoge (1976). This alignment is incredibly simple. The simplicity stems from the definition that the 4th-order polynomial, which describes the response function, is defined as two <strong>identical</strong> cascaded 2nd-order polynomials. This reduces the math to a 1-parameter family of responses, and it is equally as simple as calculating a closed box. The response function:</p>
<div class="math notranslate nohighlight">
\[G(s) = \frac{ s^4 } { (s^2 + 2 \cdot \zeta \cdot s + 1)^2 }\]</div>
<p>where <span class="math notranslate nohighlight">\(\zeta\)</span> is the damping ratio, which is a value that depends on the driver’s <span class="math notranslate nohighlight">\(\qt\)</span>-value. If the system is calculated as lossless, then <span class="math notranslate nohighlight">\(\zeta = 1 / (4 \cdot \qt)\)</span>. For calculation of a bass reflex box and its parameters, <span class="math notranslate nohighlight">\(\alpha\)</span> and <span class="math notranslate nohighlight">\(h\)</span>, we follow the algorithm below:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">Ql</span> <span class="o">=</span> <span class="mi">10</span>
<span class="n">Qts</span> <span class="o">=</span> <span class="mf">0.367</span>
<span class="n">h</span> <span class="o">=</span> <span class="mi">1</span>
<span class="n">alpha</span> <span class="o">=</span> <span class="mi">1</span><span class="o">/</span><span class="mi">4</span> <span class="o">*</span> <span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="n">Qts</span> <span class="o">-</span> <span class="mi">1</span><span class="o">/</span><span class="n">Ql</span><span class="p">)</span><span class="o">**</span><span class="mi">2</span>
</pre></div>
</div>
<p>In the above code, insert whatever <span class="math notranslate nohighlight">\(Q_\mathrm{L}\)</span> and <span class="math notranslate nohighlight">\(\qt\)</span> values you wish to compute for. The <span class="math notranslate nohighlight">\(h\)</span> output parameter is always 1 for the boombox alignment, by definition.</p>
<p>It is worth noting that if <span class="math notranslate nohighlight">\(\qt = Q_\mathrm{L}\)</span>, then we have a discontinuity (<span class="math notranslate nohighlight">\(\alpha = 0\)</span>). A low <span class="math notranslate nohighlight">\(Q_\mathrm{L}\)</span>-value equivalent to a driver <span class="math notranslate nohighlight">\(\qt\)</span> value seems quite inappropriate for bass reflex, and in practice, it is reasonable to expect that <span class="math notranslate nohighlight">\(Q_\mathrm{L}\)</span> is always much larger than <span class="math notranslate nohighlight">\(\qt\)</span>. The lowest <span class="math notranslate nohighlight">\(Q_\mathrm{L}\)</span>-value that Bullock (1) presents is 3, but even that is border-lining exceptionally bad; meanwhile, one would be hard-pressed to find a driver with <span class="math notranslate nohighlight">\(\qt = 3\)</span> (it could be reached with significant DC resistance in series with the driver, but only if the driver’s <span class="math notranslate nohighlight">\(\qms\)</span>-value is even higher).</p>
<p>Hoge was focused on a suitable alignment for instrument loudspeakers, e.g., for electric guitars, and was seeking a better bass reflex alignment option for the high <span class="math notranslate nohighlight">\(\qt\)</span>-drivers of the time than the classical Chebyshev C4-alignment. Choosing to cascade two identical 2nd-order polynomials gives double poles and therefore a nicer group delay with a reasonably fast settling time for an impulse. Unfortunately, this alignment always creates a peak before roll-off, and Hoge, who is a witty person, named it the Boombox alignment, or BB4.</p>
<p>Hoge only defined the BB4 alignment for driver <span class="math notranslate nohighlight">\(\qt\)</span> above ca. 0.37, and he identified the peak with <span class="math notranslate nohighlight">\(Q_\mathrm{L} = 7\)</span> for a driver <span class="math notranslate nohighlight">\(\qt = 0.72\)</span> to be around +6 dB. For high <span class="math notranslate nohighlight">\(\qt\)</span> drivers, the peak becomes large, which you might accept in favor of the impulse stopping quicker than a similar peaky Chebyshev response. Besides, the single peak of a BB4 alignment is easier to equalize electronically, than the ripples of a Chebyshev alignment. On the other hand, a Chebyshev alignment with a similar driver Qt results in 1.3 - 1.4 dB ripple. Finally, when driver <span class="math notranslate nohighlight">\(\qt\)</span> is this high, one may consider a large closed box.</p>
<p>Bullock realized that the equations also work well for drivers with lower <span class="math notranslate nohighlight">\(\qt\)</span>, and in this case there is no peak in the frequency response. He coined the term Sub-Boombox for these alignments, or SBB4, and his tables go as low as <span class="math notranslate nohighlight">\(\qt = 0.20\)</span>. It is therefore reasonable to say that the BB4-SBB4 alignment works for driver <span class="math notranslate nohighlight">\(\qt\)</span> in the range of 0.20-0.72, although mathematically you are free to calculate outside these limits.</p>
<p>The Boombox family of alignments is home to at least two discrete alignments, that we are aware of. One of them is the Linkwitz-Riley (LR4) alignment, which is described in its own section: <a class="reference internal" href="lr4.html#the-lr4-bass-reflex-alignment"><span class="std std-ref">The LR4 Bass Reflex Alignment</span></a>, the other is the Critically Damped (CD4) alignment, which is described in its own section: <a class="reference internal" href="cd4.html#the-cd4-bass-reflex-alignment"><span class="std std-ref">The CD4 Bass Reflex Alignment</span></a>.</p>
<div class="toctree-wrapper compound">
</div>
</section>
<section id="transitional-alignments">
<h3>Transitional Alignments<a class="headerlink" href="#transitional-alignments" title="Link to this heading"></a></h3>
<p>To the best of our knowledge, the concept of Transitional Alignments was never explored in relation to loudspeaker (Bass Reflex) boxes until it was presented in the Voice Coil Magazine, September 2024.</p>
<p>Notably, R. M. Golden and J. F. Kaiser [1] described the roots of normalized Butterworth and Bessel-Thomson low-pass transfer functions, from which Richard Small [2] derived the polynomial coefficients of the fourth-order highpass Bessel alignment. Golden and Kaiser also described a transitional filter design where a chosen balance between the two is realized.</p>
<p>Speakerbench supports a transitional alignment family, which transitions between Butterworth and Linkwitz-Riley, named B4-LR4.</p>
<p><strong>How it works</strong></p>
<p>Studying the poles of the polynomial transfer function in the s-plane, we know that the LR4 response function has two double poles, located at <span class="math notranslate nohighlight">\(\Theta = \pm 3/4 \pi\)</span> (<span class="math notranslate nohighlight">\(\pm 135 \deg\)</span>), whereas the B4 response function has equally spaced poles, located at <span class="math notranslate nohighlight">\(\Theta = 5/8 \pi\)</span>, <span class="math notranslate nohighlight">\(7/8 \pi\)</span>, <span class="math notranslate nohighlight">\(9/8 \pi\)</span>, and <span class="math notranslate nohighlight">\(11/8 \pi\)</span> (45 degrees apart).</p>
<p>We can write a one-parameter family of alignments that contains both B4 and LR4 as specific cases. Consider:</p>
<div class="math notranslate nohighlight">
\[\begin{split}a_1 &amp;= 2 \cdot \sqrt(2) \cdot \cos(\epsilon) \\
a_2 &amp;= 4 \cdot (\cos(\epsilon))^2 \\
a_3 &amp;= a_1\end{split}\]</div>
<p>where <span class="math notranslate nohighlight">\(\epsilon\)</span> is an angle for which <span class="math notranslate nohighlight">\(0 \leq \epsilon \leq
\pi/8\)</span>. Geometrically, <span class="math notranslate nohighlight">\(\epsilon\)</span> is an angle for which the four
distinct poles of the response function lie on the unit circle at
<span class="math notranslate nohighlight">\(s = e^{i \Theta}\)</span> at <span class="math notranslate nohighlight">\(\Theta = 3/4 \pi \pm \epsilon\)</span> and
<span class="math notranslate nohighlight">\(\Theta = -3/4 \pi \pm \epsilon\)</span>. We can see that for
<span class="math notranslate nohighlight">\(\epsilon = 0\)</span>, we have the LR4 response function, and for
<span class="math notranslate nohighlight">\(\epsilon = \pi / 8\)</span>, we have the B4 response function.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>

<span class="n">Qt</span> <span class="o">=</span> <span class="mf">0.37</span>    <span class="c1"># insert your driver Qt value here</span>
<span class="n">Ql</span> <span class="o">=</span> <span class="mi">100</span>
<span class="n">a1</span> <span class="o">=</span> <span class="mf">1.</span><span class="o">/</span><span class="n">Qt</span> <span class="o">+</span> <span class="mf">1.</span><span class="o">/</span><span class="n">Ql</span>
<span class="c1"># cosepsilon should be between</span>
<span class="c1"># cos(0) = 1 and cos(pi/8) = 0.924</span>
<span class="n">cosepsilon</span> <span class="o">=</span> <span class="n">a1</span><span class="o">/</span><span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">8</span><span class="p">)</span>
<span class="n">a2</span> <span class="o">=</span> <span class="mi">4</span> <span class="o">*</span> <span class="n">cosepsilon</span><span class="o">**</span><span class="mi">2</span>
<span class="n">a3</span> <span class="o">=</span> <span class="n">a1</span>
<span class="n">h</span> <span class="o">=</span> <span class="mi">1</span>
<span class="n">alpha</span> <span class="o">=</span> <span class="n">a2</span> <span class="o">-</span> <span class="mi">2</span> <span class="o">-</span> <span class="mi">1</span><span class="o">/</span><span class="p">(</span><span class="n">Ql</span> <span class="o">*</span> <span class="n">Qt</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>Summary</strong></p>
<p>With the calculated transition from LR4 to B4, we have obtained a subtle improvement over continuing with the Boombox alignment. For drivers with <span class="math notranslate nohighlight">\(\qt\)</span> values above the LR4-Qt, the Boombox alignment will have a (small) peak in its frequency response before roll-off. By transitioning towards the B4 alignment, we avoid this peak, and the frequency response remains monotonic.</p>
<p>Note: Transitioning between B4 and LR4 is only relevant for drivers with <span class="math notranslate nohighlight">\(\qt\)</span>-values between the two alignment, i.e., ca. <span class="math notranslate nohighlight">\(0.37 &lt; \qt &lt; 0,40\)</span>. This implies that Speakerbench only shows this option if your driver’s <span class="math notranslate nohighlight">\(\qt\)</span>-value is within this range.</p>
<p>Speakerbench currently only supports one transitional alignment, the B4-LR4 presented above, but in the Alignment Chart you may aim with your pointer and click somewhere in-between the known alignments, and then in the Settings tab, you click the <strong>APPLY</strong> button to transfer the <span class="math notranslate nohighlight">\(\alpha\)</span> and <span class="math notranslate nohighlight">\(h\)</span> values into <span class="math notranslate nohighlight">\(\vb\)</span> and <span class="math notranslate nohighlight">\(\fp\)</span> values for box simulation. This way Speakerbench supports any transition you can think of. Just, clicking the chart is not as mathematically precise as what we have described here.</p>
</section>
</section>
<section id="second-order-alignments">
<h2>Second-order alignments<a class="headerlink" href="#second-order-alignments" title="Link to this heading"></a></h2>
<p>A second-order alignment is a closed box, not a vented box. Speakerbench supports the calculation of closed boxes simply by setting the port tuning frequency <span class="math notranslate nohighlight">\(\fp = 0\)</span>, which is equivalent to <span class="math notranslate nohighlight">\(h = \fp / \fs = 0\)</span>. We can write the normalized response function as</p>
<div class="math notranslate nohighlight">
\[G_\mathrm{H}(s) = \frac{s^2}{s^2 + a_1 s + 1} = \frac{s^2}{s^2 + 2 \zeta s + 1} \; ,\]</div>
<p>where <span class="math notranslate nohighlight">\(a_1\)</span> is 2 x the damping ratio <span class="math notranslate nohighlight">\(\zeta\)</span>, which means <span class="math notranslate nohighlight">\(a_1\)</span> is the inverse of the Q-factor, for the second-order system.</p>
<p>Without a port tuning frequency, a closed box system only has one free design parameter <span class="math notranslate nohighlight">\(\alpha = \cms / \cmb = \vas / \vb\)</span>. Ignoring leakage loss, we may write <span class="math notranslate nohighlight">\(\qtc = \qt \sqrt{\alpha + 1}\)</span> and <span class="math notranslate nohighlight">\(\fcb = \fs \sqrt{\alpha + 1}\)</span>. There are two factors, which can affect the resulting system Q, one is any electrical resistance <span class="math notranslate nohighlight">\(R_\mathrm{S}\)</span> in series with the driver, the other is leakage loss <span class="math notranslate nohighlight">\(Q_\mathrm{L}\)</span>.</p>
<div class="math notranslate nohighlight">
\[Q_\mathrm{TS,R_S} = \frac{\ws \cdot \mms}{\frac{\bls}{\re + R_\mathrm{S}} + \rms}\]</div>
<p>The <span class="math notranslate nohighlight">\(Q_\mathrm{TS,R_S}\)</span> value is calculated in Speakerbench and you can see the value in the INFO tab. It is affected when you enable the filter and apply a series resistance. The <span class="math notranslate nohighlight">\(Q_\mathrm{TS,R_S}\)</span> value is what Speakerbench uses for response calculations (and in the alignment chart). The second-order response function becomes:</p>
<div class="math notranslate nohighlight">
\[G_\mathrm{H}(s) = \frac{s^2}{s^2 + \frac{1}{Q_\mathrm{TS,R_S}} s + 1 + \alpha} \; .\]</div>
<p>The leakage loss <span class="math notranslate nohighlight">\(Q_\mathrm{L}\)</span> is normally not treated in classical alignment analysis for closed box systems, because leakage is typically kept insignificant when building a decent quality box, i.e., it does not affect the SPL response in a significant way. It is different for vented systems because in classical alignment analysis for vented box systems, <span class="math notranslate nohighlight">\(Q_\mathrm{L}\)</span> is treated as a lumped parameter for several different losses. Nevertheless, whatever you have entered in <span class="math notranslate nohighlight">\(Q_\mathrm{L}\)</span> in Speakerbench will be included in the response calculation. Therefore, you should set this fairly high, e.g. 30-50 or higher, when calculating a closed or vented box in Speakerbench. Since you can adjust losses separately in Speakerbench, also for vented systems, we recommend that you always set <span class="math notranslate nohighlight">\(Q_\mathrm{L}\)</span> to its real physical value (a fairly high value). This will give you the most accurate prediction of the response (SPL and impedance, etc.).</p>
<p>In the Speakerbench alignment chart, there are two dots shown at <span class="math notranslate nohighlight">\(h = 0\)</span>, which are representing the second-order Bessel (<span class="math notranslate nohighlight">\(Q = 1 / \sqrt{3} \approx 0.577\)</span>) and Butterworth (<span class="math notranslate nohighlight">\(Q = 1 / \sqrt{2} \approx 0.707\)</span>), respectively. These are useful when designing vented box systems, in which the user may plug the port, essentially converting the system into a closed box design. In principle, one could also show other known alignments, e.g., the second-order Linkwitz-Riley (<span class="math notranslate nohighlight">\(Q = 0.5\)</span>), but targets outside the range between Bessel and Butterworth are rarely used when designing vented box systems. In other words, the box volume of a vented box system (<span class="math notranslate nohighlight">\(\alpha\)</span>) is typically chosen such that the driver in box <span class="math notranslate nohighlight">\(Q\)</span> is between the Bessel and the Butterworth second-order alignment. This observation is almost valid even for the extreme case of a CD4 alignment, where in practice the box volume when the port is closed will give a system <span class="math notranslate nohighlight">\(Q \approx 0.55\)</span> (the exact value depend on leakage <span class="math notranslate nohighlight">\(Q_\mathrm{L}\)</span>). Any second order response where the system <span class="math notranslate nohighlight">\(Q &gt; 0.707\)</span> is considered a Chebyshev C2 alignment, even if there is not any ‘equal’ ripple since a second-order response will just have a peak.</p>
<p>In classical theory, a closed box is considered of the acoustic suspension type when <span class="math notranslate nohighlight">\(\cmb\)</span> dominates over <span class="math notranslate nohighlight">\(\cms\)</span> such that <span class="math notranslate nohighlight">\(\fcb \geq 2 \fs\)</span>, which gives <span class="math notranslate nohighlight">\(\alpha \geq 3\)</span>.</p>
</section>
<section id="summary">
<h2>Summary<a class="headerlink" href="#summary" title="Link to this heading"></a></h2>
<table class="docutils align-default" id="id6">
<caption><span class="caption-number">Table 3 </span><span class="caption-text"><strong>Table of supported discrete alignments and alignment families</strong></span><a class="headerlink" href="#id6" title="Link to this table"></a></caption>
<colgroup>
<col style="width: 25.0%" />
<col style="width: 25.0%" />
<col style="width: 50.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Tag</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Comments</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>B4i - B4Q - B4CA</p></td>
<td><p>Butterworth</p></td>
<td><p>Centered around <span class="math notranslate nohighlight">\(\qt = 0.40\)</span></p></td>
</tr>
<tr class="row-odd"><td><p>LR4Q - LR4CA</p></td>
<td><p>Linkwitz-Riley</p></td>
<td><p>Centered around <span class="math notranslate nohighlight">\(\qt = 0.37\)</span></p></td>
</tr>
<tr class="row-even"><td><p>BL4Q - BL4CA</p></td>
<td><p>Bessel</p></td>
<td><p>Centered around <span class="math notranslate nohighlight">\(\qt = 0.33\)</span></p></td>
</tr>
<tr class="row-odd"><td><p>CD4Q - CD4CA</p></td>
<td><p>Critically damped</p></td>
<td><p>Centered around <span class="math notranslate nohighlight">\(\qt = 0.26\)</span></p></td>
</tr>
<tr class="row-even"><td><p>IB4Q - IB4CA</p></td>
<td><p>Inter-order Butterworth</p></td>
<td><p>Centered around <span class="math notranslate nohighlight">\(\qt = 0.34\)</span></p></td>
</tr>
<tr class="row-odd"><td><p>C4 - SC4</p></td>
<td><p>Chebyshev</p></td>
<td><p>For <span class="math notranslate nohighlight">\(0.236 &lt; \qt &lt; 1.416\)</span></p></td>
</tr>
<tr class="row-even"><td><p>BB4 - SBB4</p></td>
<td><p>Boombox</p></td>
<td><p>For <span class="math notranslate nohighlight">\(0.20 &lt; \qt &lt; 0.75\)</span></p></td>
</tr>
<tr class="row-odd"><td><p>B4-LR4</p></td>
<td><p>Transitional B4-LR4</p></td>
<td><p>For <span class="math notranslate nohighlight">\(0.37 &lt; \qt &lt; 0.40\)</span></p></td>
</tr>
<tr class="row-even"><td><p>B2</p></td>
<td><p>Butterworth 2<sup>nd</sup> order</p></td>
<td><p>Closed box, <span class="math notranslate nohighlight">\(\qtc = 0.707\)</span> (requires <span class="math notranslate nohighlight">\(\qt &lt; 0.67)\)</span></p></td>
</tr>
<tr class="row-odd"><td><p>BL2</p></td>
<td><p>Bessel 2<sup>nd</sup> order</p></td>
<td><p>Closed box, <span class="math notranslate nohighlight">\(\qtc = 0.577\)</span> (requires <span class="math notranslate nohighlight">\(\qt &lt; 0.55)\)</span></p></td>
</tr>
</tbody>
</table>
<p>Note: In Speakerbench the Quasi IB4 (IB4Q) only shows up if <span class="math notranslate nohighlight">\(\qt\)</span> is close to the target, and since it is identical to B4Q (=QB3), the two will be located at the same spot in the alignment chart. IB4CA is unique and is always shown.</p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="deltamass_theory.html" class="btn btn-neutral float-left" title="Dual-Added-Mass Method" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="ib4.html" class="btn btn-neutral float-right" title="The IB4 Bass Reflex Alignment" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2020-2025 | C. Futtrup and J. Candy.
      <span class="lastupdated">Last updated on Feb 16, 2025.
      </span></p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>